const ToastPositions={"top-right":"top-5 right-5 items-end","top-left":"top-5 left-5 items-start","bottom-right":"bottom-5 right-5 items-end","bottom-left":"bottom-5 left-5 items-start","top-center":"top-5 left-1/2 -translate-x-1/2 items-center","bottom-center":"bottom-5 left-1/2 -translate-x-1/2 items-center"},ToastTypes={success:"bg-green-600 text-white",error:"bg-red-700 text-white",warning:"bg-yellow-600 text-white",info:"bg-blue-500 text-white"},ToastTypesOut={success:"border border-green-500 text-gray-500 bg-white",error:"border border-red-500 text-gray-500 bg-white",warning:"border border-yellow-500 text-gray-500 bg-white",info:"border border-blue-500 text-gray-500 bg-white"},ToastStyles={default:"",glass:"backdrop-blur-md bg-white/30 text-black shadow-md",glassDark:"backdrop-blur-md bg-gray-900/30 text-white shadow-md",neumorphic:"bg-gray-100 shadow-[8px_8px_15px_#ccc,-8px_-8px_15px_#fff] text-black",rounded:"rounded-full px-5 py-3",dark:"bg-gray-900 text-white",light:"bg-white text-black shadow"},ToastCSSAnimations={fade:{in:"animate-fade",out:"animate-fade-out"},slide:{in:"animate-slide",out:"animate-slide-out"},bounce:{in:"animate-bounce",out:"animate-bounce-out"},zoom:{in:"animate-zoom",out:"animate-zoom-out"},flip:{in:"animate-flip",out:"animate-flip-out"}};class ToastManager{constructor(){this.containerMap=new Map,this.theme=this.detectTheme()}detectTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}createContainer(e){if(this.containerMap.has(e))return this.containerMap.get(e);const t=document.createElement("div");return t.className=`toast-container fixed z-50 flex flex-col gap-3 pointer-events-none ${ToastPositions[e]||ToastPositions["top-right"]}`,document.body.appendChild(t),this.containerMap.set(e,t),t}show(e){const{title:t="",message:o="",type:a="info",icon:n="",rtl:s=!1,duration:r=4e3,position:i="top-right",style:l="default",theme:d="light",progress:c=!1,typeStyle:m="outline",action:g=null,onShow:h=null,onClose:u=null,animation:p="fade",showCloseButton:f=!1}=e,w=this.createContainer(i),x=document.createElement("div");x.setAttribute("dir",s?"rtl":"ltr");const b="auto"===d?this.theme:d,y=ToastStyles[l]||"",v="dark"===b?"dark":"";x.className=`toast ${ToastStyles[v]} pointer-events-auto flex flex-col gap-2 p-4 max-w-xs w-full rounded-lg shadow-sm ${ToastTypes[a]||ToastTypes.info} ${y} relative overflow-hidden`,x.className=""!==y?"dark"===v?`toast pointer-events-auto flex flex-col gap-2 p-4 max-w-xs w-full rounded-lg shadow-sm ${ToastStyles.glassDark} relative overflow-hidden`:`toast pointer-events-auto flex flex-col gap-2 p-4 max-w-xs w-full rounded-lg shadow-sm ${y} relative overflow-hidden`:"dark"===v?`toast ${ToastStyles[v]} pointer-events-auto flex flex-col gap-2 p-4 max-w-xs w-full rounded-lg shadow-sm relative overflow-hidden`:"filled"===m?`toast pointer-events-auto flex flex-col gap-2 p-4 max-w-xs w-full rounded-lg shadow-sm ${ToastTypes[a]||ToastTypes.info} relative overflow-hidden`:`toast pointer-events-auto flex flex-col gap-2 p-4 max-w-xs w-full rounded-lg shadow-sm ${ToastTypesOut[a]||ToastTypesOut.info} relative overflow-hidden`;const T=document.createElement("div");if(T.className="flex",n){let e="",t="";if("default"===n)switch(a){case"success":t="text-green-500 bg-green-100",e='<svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">\n                                        <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"/>\n                                    </svg>\n                                    <span class="sr-only">Check icon</span>';break;case"error":t="text-red-500 bg-red-100",e='<svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">\n                                    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"/>\n                                </svg>\n                                <span class="sr-only">Error icon</span>';break;case"warning":t="text-orange-500 bg-orange-100",e='<svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">\n                                    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"/>\n                                </svg>\n                                <span class="sr-only">Warning icon</span>';break;case"info":t="text-blue-500 bg-blue-100",e='<svg class="shrink-0 size-4 text-blue-500 mt-0.5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n                                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path>\n                                  </svg>\n                                <span class="sr-only">info icon</span>'}const o=document.createElement("div");o.className="inline-flex items-center justify-center rounded-lg shrink-0 w-8 h-8 "+t,o.innerHTML="default"===n?e:n,T.appendChild(o)}const k=document.createElement("div");if(k.className="ms-3 text-sm font-normal mr-3",""!==t){const e=document.createElement("span");e.className="text-sm font-semibold",e.innerHTML=t,k.appendChild(e)}const C=document.createElement("div");if(C.className="mt-1 mb-2 text-sm font-normal",C.innerHTML=o,k.appendChild(C),g&&"object"==typeof g&&g.label&&"function"==typeof g.onClick){const e=document.createElement("a");e.className=`inline-flex px-2.5 py-1.5 text-xs font-medium text-center cursor-pointer border focus:ring-4 focus:outline-none ${"dark"==v?"bg-gray-600 text-white border-gray-600 hover:bg-gray-700 hover:border-gray-700 focus:ring-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-100 focus:ring-gray-200"}  rounded-lg`,e.textContent=g.label,e.onclick=g.onClick,k.appendChild(e)}if(T.appendChild(k),f){const e=document.createElement("button");e.className=`ms-auto -mx-1.5 -my-1.5 ${"dark"==v?"bg-gray-800 text-gray-500 hover:text-white hover:bg-gray-700":"bg-white text-gray-400 hover:text-gray-900 hover:bg-gray-100"} rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 inline-flex items-center justify-center h-8 w-8`,e.innerHTML='<span class="sr-only">Close</span>\n            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">\n                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>\n            </svg>',e.onclick=()=>this.fadeOut(x,p,u),T.appendChild(e)}if(x.appendChild(T),c){const e=document.createElement("div");e.className="absolute z-30 bottom-0 left-0 h-1 bg-gray-400/35 transition-all",e.style.width="0%",x.appendChild(e),setTimeout((()=>{e.style.transition=`width ${r}ms linear`,e.style.width="100%"}),50)}ToastCSSAnimations[p]&&x.classList.add(ToastCSSAnimations[p].in),w.prepend(x),"function"==typeof h&&h(),setTimeout((()=>{this.fadeOut(x,p,u)}),r)}fadeOut(e,t,o){ToastCSSAnimations[t]?(e.classList.remove(ToastCSSAnimations[t].in),e.classList.add(ToastCSSAnimations[t].out)):e.classList.add("opacity-0"),setTimeout((()=>{e.remove(),"function"==typeof o&&o()}),400)}}window.LemonToast=new ToastManager;
